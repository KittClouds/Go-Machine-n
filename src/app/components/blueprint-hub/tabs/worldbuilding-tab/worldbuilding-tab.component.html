<div
    class="flex flex-col h-full bg-zinc-50 dark:bg-zinc-950 text-zinc-800 dark:text-zinc-100 font-sans transition-colors duration-300">
    <!-- Header Banner -->
    <div class="relative h-20 shrink-0 overflow-hidden border-b border-zinc-200 dark:border-zinc-800">
        <!-- Dark Mode Gradient -->
        <div class="absolute inset-0 bg-gradient-to-br from-cyan-950 via-zinc-900 to-zinc-950 hidden dark:block"></div>
        <!-- Light Mode Gradient -->
        <div class="absolute inset-0 bg-gradient-to-br from-teal-50 via-zinc-50 to-white dark:hidden"></div>

        <div class="absolute inset-0 opacity-10"
            style="background-image: radial-gradient(#14b8a6 1px, transparent 1px); background-size: 30px 30px;">
        </div>
        <div
            class="absolute inset-0 bg-gradient-to-t from-zinc-50 dark:from-zinc-950 via-zinc-50/50 dark:via-zinc-950/50 to-transparent">
        </div>

        <div class="absolute bottom-0 left-0 right-0 p-4 z-10">
            <div class="flex items-center gap-4">
                <div
                    class="w-10 h-10 rounded-xl bg-teal-100 dark:bg-teal-500/10 border border-teal-200 dark:border-teal-500/20 flex items-center justify-center shadow-[0_0_15px_rgba(20,184,166,0.1)]">
                    <i class="pi pi-globe text-teal-600 dark:text-teal-400 text-xl"></i>
                </div>
                <div>
                    <h1 class="text-xl font-bold text-zinc-900 dark:text-white tracking-tight">Worldbuilding</h1>
                    <p class="text-xs text-zinc-500 dark:text-zinc-400">
                        Quick facts and metadata about your world
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Sticky Tab Bar -->
    <div
        class="sticky top-0 z-20 bg-zinc-50/95 dark:bg-zinc-950/95 backdrop-blur border-b border-zinc-200 dark:border-zinc-800 flex items-center overflow-x-auto custom-scrollbar no-view-transition">
        <button *ngFor="let tab of tabs" (click)="setActiveTab(tab.id)"
            class="group relative flex items-center gap-2 px-6 py-3 text-sm font-medium transition-colors focus:outline-none whitespace-nowrap"
            [class.text-teal-600]="activeTabId() === tab.id" [class.dark:text-teal-400]="activeTabId() === tab.id"
            [class.bg-white]="activeTabId() === tab.id" [class.dark:bg-zinc-900]="activeTabId() === tab.id"
            [class.text-zinc-500]="activeTabId() !== tab.id" [class.hover:text-zinc-700]="activeTabId() !== tab.id"
            [class.dark:hover:text-zinc-300]="activeTabId() !== tab.id"
            [class.hover:bg-zinc-200/50]="activeTabId() !== tab.id"
            [class.dark:hover:bg-zinc-900/50]="activeTabId() !== tab.id">

            <i [class]="tab.icon"></i>
            <span>{{ tab.label }}</span>

            <!-- Active Indicator -->
            <div *ngIf="activeTabId() === tab.id"
                class="absolute bottom-0 left-0 right-0 h-0.5 bg-teal-500 shadow-[0_0_8px_#14b8a6]">
            </div>
        </button>
    </div>

    <!-- Content Area -->
    <div class="flex-1 overflow-hidden relative">
        <div class="w-full h-full">
            @switch (activeTabId()) {
            @case ('overview') { <app-world-overview /> }
            @case ('geography') { <app-geography /> }
            @case ('culture') { <app-cultures /> }
            @case ('magic') { <app-magic-system /> }
            @case ('religion') { <app-religion /> }
            @case ('politics') { <app-politics /> }
            @case ('mystery') { <app-mystery /> }
            }
        </div>
    </div>
</div>