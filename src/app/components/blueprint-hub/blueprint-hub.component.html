<div class="absolute bottom-8 left-0 right-0 z-40 bg-hub text-hub-foreground border-t border-hub-border shadow-[0_-5px_10px_rgba(0,0,0,0.1)] flex flex-col transition-transform duration-300 ease-in-out"
    [class.translate-y-full]="!hubService.isHubOpen()" [class.translate-y-0]="hubService.isHubOpen()"
    [attr.data-hub-ready]="true" style="height: 60vh;">
    <!-- Header/Tabs -->
    <div
        class="flex items-center border-b border-hub-border bg-muted/40 px-2 overflow-x-auto shrink-0 h-10 backdrop-blur-sm">
        <button *ngFor="let tab of tabs"
            class="flex items-center gap-2 px-4 h-full text-xs font-medium border-b-2 transition-colors whitespace-nowrap focus:outline-none"
            [class.border-primary]="activeTab === tab.id" [class.text-foreground]="activeTab === tab.id"
            [class.border-transparent]="activeTab !== tab.id" [class.text-muted-foreground]="activeTab !== tab.id"
            [class.hover:bg-accent]="activeTab !== tab.id" [class.hover:text-foreground]="activeTab !== tab.id"
            (click)="setActiveTab(tab.id)">
            <i [class]="tab.icon"></i>
            {{ tab.label }}
        </button>

        <div class="ml-auto flex items-center">
            <button
                class="w-8 h-8 flex items-center justify-center rounded-md hover:bg-accent text-muted-foreground hover:text-foreground transition-colors"
                (click)="hubService.close()">
                <i class="pi pi-chevron-down"></i>
            </button>
        </div>
    </div>

    <!-- Content Area -->
    <div class="flex-1 overflow-hidden bg-hub relative">
        <ng-container [ngSwitch]="activeTab">
            <app-graph-tab *ngSwitchCase="'graph'" class="h-full w-full block"></app-graph-tab>
            <app-theme-tab *ngSwitchCase="'theme'" class="h-full w-full block"></app-theme-tab>
            <app-patterns-tab *ngSwitchCase="'patterns'" class="h-full w-full block"></app-patterns-tab>

            <div *ngSwitchDefault class="flex items-center justify-center h-full text-muted-foreground bg-muted/5">
                <div
                    class="text-center p-8 border rounded-xl bg-background/50 backdrop-blur-sm border-dashed border-border/60">
                    <div class="w-16 h-16 rounded-full bg-muted flex items-center justify-center mx-auto mb-4">
                        <i [class]="'text-2xl ' + activeTabIcon"></i>
                    </div>
                    <h3 class="font-medium text-lg text-foreground">{{ activeTabLabel }}</h3>
                    <p class="text-sm mt-2 max-w-xs mx-auto">This module is not yet implemented in the Angular build.
                    </p>
                </div>
            </div>
        </ng-container>
    </div>
</div>